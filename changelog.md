# 更新履歴 (Changelog)

このファイルは「ブループリントエンジン24 (Blueprint Engine)」プロジェクトの更新履歴を記録します。

## 2025-12-12

### 09:00 - UIデザイン刷新 (Light Mode Blueprint) & ロゴ統合
*   **Design**: アプリ全体のUIテーマを「Light Mode Blueprint」に刷新。
    *   背景をホワイト（#F8FAFC）基調に変更し、淡いブルーのグリッドパターン（設計図風）を採用。
    *   アクセントカラーに鮮やかなロイヤルブルー（#2563EB）を使用し、先進的かつクリアな印象に。
    *   文字色をダークグレー（#0F172A）系に統一し、視認性を向上。
    *   スタイル選択カード等のコンポーネントもLight Modeに合わせて配色を調整。
*   **Asset**: ヘッダーに「Blueprint Engine」ロゴ画像 (`logo.png`) を統合。

## 2025-12-11

### 23:00 - リブランディング (Blueprint Engine 24)
*   **Rebrand**: アプリ名を「スキームメーカー」から「ブループリントエンジン24 (Blueprint Engine 24)」へ変更。
*   **Design**: ブランドカラーをDeep Blue基調に変更。
*   **Concept**: コンセプトを「思考の構造化エンジン」として再定義し、トップページのメッセージを刷新。

### 21:00 - 機能強化とUIローカライズ
*   **Feature (Image)**: リファレンス画像のアップロード機能を追加。キャラクターや特定スタイルの「必須」指定が可能になり、Step 3/4の生成に強く反映されるよう改修。
*   **Feature (History)**: 履歴管理機能 (`history_utils.py`) を実装。生成完了時の自動保存と、ヘッダーの「🕒」アイコンからのセッション復元が可能に。
*   **Feature (Refine)**: Step 4 に微調整（Refinement）機能を追加。生成画像に対して自然言語で修正指示が出せるワークフローを追加。
*   **UI/UX**: Streamlit標準のヘッダー・フッター・Deployボタンを非表示化し、アプリ独自のヘッダーに整理。
*   **L10n**: 設定メニューやUIテキストを完全に日本語化。

## 2025-12-10

### 16:00 - UIの大幅刷新とエラー修正
*   **Fix**: Step 1での `SyntaxError: invalid character` (全角文字混入) を修正し、ホワイトスクリーン問題を解決。
*   **Design**: アプリ全体のマージンやパディングを微調整し、クリーンな表示に修正。

### 15:55 - レガシーUIの一掃とブランド変更
*   **Rename**: アプリ名を「わど図解」から「スキームメーカー」へ変更（法務リスク対応）。タイトルタグとヘッダー表示を統一。
*   **Design**: プログレスバーのデザインを完全に刷新。点線テキストから、ウィザード形式のモダンなステップ表示に変更。HTML/CSSの実装を改善し、コードブロックとして誤表示されるバグを修正。

### 15:40 - Recraft風UIの導入 (設定・スタイル選択)
*   **UI/UX**: 左サイドバーの設定メニューを廃止し、画面右上の「⚙️ 設定」ポップオーバーメニューに統合。画面を広く使えるように変更。
*   **Feature**: Step 4（デザイン選択）のUIを、従来のプルダウンリストから「カード型グリッド選択」に変更。Recraftを模した直感的なビジュアル選択が可能に。
*   **System**: セッション管理（API Key, モデル設定）のロジックをリファクタリングし、設定変更時の挙動を安定化。

### 15:20 - モデル・機能の最適化
*   **System**: `generate_with_fallback` 関数の定義位置を修正し、`NameError` を解消。
*   **Model**: Gemini 2.5 / 3.0系モデルに加え、画像生成モデル `nano-banana-pro-preview` への対応を強化。
*   **Feature**: 履歴クリア（リセット）ボタンの実装。

### 14:00 - プロジェクト初期化・基盤構築
*   **Init**: Streamlitアプリケーションの基盤構築。
*   **Feature**: テキスト分析によるJSON構造化、ドラフト生成、最終画像生成の4ステップフローを実装。
