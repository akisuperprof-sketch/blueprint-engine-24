# スキームメーカー開発ログ＆仕様書

## プロジェクト概要
**名称:** Blueprint Engine 24 (スキームメーカー)
**目的:** ユーザーの入力テキストや画像から、構造化されたインフォグラフィック（図解）を自動生成する。
**コア機能:**
1.  **構造解析 (Step 1-2):** テキストをJSON構造データに変換。
2.  **ドラフト生成 (Step 3):** レイアウト確認用の白黒ラフ画を強制出力。
3.  **デザイン清書 (Step 4):** 10種類の定義済みスタイルで高品質な最終レンダリング。

## 直近の変更履歴 (2025-12-18)
1.  **プロンプトの完全刷新 (High-Fidelity Update):**
    *   `src/lib/constants.ts` のスタイル定義を、詳細な英語プロンプト記述に更新。
    *   `src/app/page.tsx` の全フェーズ（構造化、ドラフト、清書）のプロンプトを、リバースエンジニアリングで得られた「God Prompt」テンプレートに書き換え。
    *   特に「ドラフト強制モード」と「スタイル完全上書きモード」の実装により、ワークフローの再現性を担保。

2.  **UI/Branding:**
    *   ヘッダーロゴを `logo.png` に差し替え。

## 今後の実装計画: 多言語対応 (Multi-language Support)
**目的:** 入力言語と出力言語を柔軟に組み合わせられるようにする（例：日本語入力 → 英語図解）。

**仕様:**
1.  **UI:** Step 1 設定エリアに「出力言語 (Output Language)」選択肢を追加。
2.  **ロジック:**
    *   **Structure Prompt:** JSON生成時に、`label` 等のテキストを指定言語へ翻訳・統一するよう指示を追加。
    *   **Image Prompt:** 画像生成プロンプト内の「言語指定」セクションを動的に書き換える (`Target Language: ${targetLanguage}`).

**安全性確認:**
*   デフォルト値を「Japanese」とすることで、既存の日本語入力→日本語出力の挙動は **100%維持** される。プロンプトの構造自体は変わらず、"Japanese" という単語が変数に置き換わるだけであるため、出力品質への悪影響はない。
